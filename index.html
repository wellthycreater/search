<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>우편번호 및 도로명주소 조회</title>
  <style>
    .container {
      width: 400px;
      margin: 0 auto;
      padding: 20px;
    }
    label {
      display: block;
      margin-bottom: 10px;
    }
    input[type="text"] {
      width: 100%;
      padding: 5px;
      margin-bottom: 10px;
    }
    button {
      padding: 10px 20px;
    }
    #result {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>우편번호 및 도로명주소 조회</h2>
    <form id="search-form">
      <label for="address">상세 주소</label>
      <input type="text" id="address" placeholder="도로명, 건물명 또는 지번을 입력하세요" required>
      <button type="submit">조회</button>
    </form>
    <div id="result"></div>
  </div>

  <script>
    document.getElementById("search-form").addEventListener("submit", function (event) {
      event.preventDefault();

      var address = document.getElementById("address").value;
      var apiUrl = "https://dapi.kakao.com/v2/local/search/address.json?query=" + encodeURIComponent(address);

      var xhr = new XMLHttpRequest();
      xhr.open("GET", apiUrl);
      xhr.setRequestHeader("Authorization", "KakaoAK {6c040629ac93f28aaae8dce8b3f69ed1}");
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          var response = JSON.parse(xhr.responseText);
          if (response.documents.length > 0) {
            var firstResult = response.documents[0];
            var zonecode = firstResult.zone_code;
            var roadAddress = firstResult.road_address ? firstResult.road_address.address_name : "";
            var jibunAddress = firstResult.address.address_name;

            var resultElement = document.getElementById("result");
            resultElement.innerHTML = "우편번호: " + zonecode + "<br>";
            resultElement.innerHTML += "도로명주소: " + roadAddress + "<br>";
            resultElement.innerHTML += "지번주소: " + jibunAddress;
          } else {
            document.getElementById("result").innerHTML = "검색 결과가 없습니다.";
          }
        }
      };
      xhr.send();
    });
  </script>
</body>
</html>
